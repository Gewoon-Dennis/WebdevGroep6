@page
@model DatabaseImplementatie.Pages.AdminScreen

@{
    ViewData["Title"] = "Admin Scherm";
}
@if (Login.IsAdmin)
{
    <h5>Promote Gebruikers</h5>
    <form method="Post">
        Vul Verzamelaars E-mailadres in: <input type="text" asp-for="@Model.GebruikerMail" placeholder="Voer E-mail in..."/>
        <button class="btn btn-primary" type="submit" id="Vind" asp-page-handler="ZoekGebruiker">Zoek gebruiker</button>
    </form>

    if (@Model.GebruikerList != null)
    {
        
        foreach (var verzamelaar in @Model.GebruikerList)
        {
            if(@verzamelaar.rol != "Admin"){
                <div class="card mb-3" style="max-width: 25%; padding: unset;">
                <form method="post">
                    <li>Gebruikersnaam: @verzamelaar.gebruikersnaam</li>
                    <li>E-mail: @verzamelaar.gebruikermail</li>
                    <li>Rol: @verzamelaar.rol</li>
                    @if (@verzamelaar.rol == "Moderator")
                    {
                        <input type="hidden" value="@verzamelaar.gebruiker_id" asp-for="GerbuikerId"/> 
                        <button class="btn btn-dark" type="submit" asp-page-handler="Demote">Demote</button>
                    }
                    else if (@verzamelaar.rol == "Verzamelaar")
                    {
                        <input type="hidden" value="@verzamelaar.gebruiker_id" asp-for="GerbuikerId"/>
                        <button class="btn btn-dark" type="submit" asp-page-handler="Promote">Promote</button>
                    }
                </form>
                </div>
            }
           
        }
    }
}
<br/><br/>
<h5>Ongeverifierde Strips</h5>
<div class="row" style=" display: flex; justify-content: space-between">
    @{
        if (@Model.UitgaveList != null)
        {
            foreach (var comic in Model.UitgaveList)
            {

                <div class="card mb-3" style="max-width: 45%; padding: unset;">
                                <div class="row g-0">
                                    <div class="col-4">
                                        <img src="@comic.afbeelding" class="img-fluid rounded-start" alt="..." style="max-height: 100%" onerror="this.onerror=null;this.src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADDCAMAAACxkIT5AAAASFBMVEVUVFSoqKhOTk5RUVGrq6tzc3OZmZmFhYWwsLBMTEyXl5etra1vb29+fn6Li4uTk5NiYmJnZ2dbW1uhoaGAgIBeXl5ycnJsbGwxLNHVAAAEr0lEQVR4nO2cDZeiIBSG4V4ElQSVJv//P13ATPuY2Wlqzy7u+5wzk0l2uk9cQEOEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAaTO+H/3ZQz8GTfj9TWRK4svLd2Ko0B+rtDhQcwAEcwAEcwAEcwAEcwAEcwMGuHahuiYLMXbly9OXBcLBDBwwHcCDgIJfDARyI/9tBwzPNIweXwj07kK1Z0PeF+lLo9+xAqoWnC/fj4BXgAA7gAA7gAA7gAA7gAA7gAA7gAA7gAA7g4P90kK6a2ZnPL6Dt10EMXgbvuuowDcMwHarO+SDt1yL25CDG77tepMn4K/GZ6DsfPezfgbLBDCn6RwdFE4MJn2nYiQNl/dQ8jP9yIDeTf2xhFw6UcuM3bkZhGt2jlmEPDqwf6fdHZmj09/eAlO/A6v7GwNwSnm9Vug2Pen1roXQHSlZXWRCjF0N1dL7VWrfeHavYUfD1Kyqp9uTAtuPm8zOJg8vDgXPa59GS1GbirSgeW7sfB7Zr1iKi0yfDgDRwOGwtNN1WQskOlFxbgtjmmy/HQVaaTd9B/SYfCnagtNjE5H97YhDHEBtnQq9vVKwD6y8BpR7vO6eTatuL0qWXLNaBdUtTwGS+cXJ4DleZS0I0zpbtQJlFAQ3hmUsKKgxLVVjmLhXrYAmEzLM3/1pzObZwB/PHZvFUJViqwnlQwXtwcNXFPSFBzvmwBwd0+OnFRXVKEnbggF5YB8BWtAcHryhIw2wq38FrCnJNKN0BTa8uiGGn0vvGj9d/a1neo1QHP+oT7yTIsh28ETiAAziAAziAAziAAziAAzjYiwOsIclTePtSoqGwtUSxpiwAAABwQ5p8lx7m31wpTzjj607u/DRv8byT55/b0/a6gx9OYPz34aH1KWrXsWDhggyG+aDbjB5yeNP85EPQSUvZDhSP0ulg8h2za0+clm2n+FZt683tDM9/Hz5YeWRBMXQxqlBNnQw8GGNCMMb1+SWVTeu/uJFM7aaDryvmU51KKDimEGR0cKobPtTHo9O1L01CdFApkR2QDrEm06hcfGhav8xbj6dVnO9gGOqqSasF2TGGm0ryUaGTsTacbHIQs6GZ1nkphRAdNNJQjIbGOp/rkJEpy1u/WQkqZTqTC/OcJdvRlYNOLQ7yzs7+lUh+TnJQ1SmaGNeY90zp8cqB9ZFDE+ZdMQOaKwckj7Q6EGN9KKtdjA4oBRUdVHMIscr3tw6cc8nBvEgYaX/joLKbeiBEXdq5c3SQPrw2NNUf8567enDOhbUeXOdC/DPT6uCjHspzIOI3HB2IOq8UR+6uPZgTPBbkXaOtaMh5E5MgO4i1oLo4aIwqS8HsgAebvlEvx/ht9/XxsQPua5P6BS/jE3tsOJqYsoMoMahzv0BdaamQan6OuI7jAxGU6VzdpuBj0t86iC1+rbtjsLGq87F2nUlTnEmm0dVkcz3wvs0Tkwqjd5z/p7acu1b7ah47d+u3OZjzBvVOazPO0/i8blPu8DFdOaNjdNinoVQlCqsFifNAKD/weiFsO+6/bG7Ll01e/+ebQP/8JwYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwB/gFh35K7dZjp9sAAAAASUVORK5CYII=';">
                                    </div>
                                    <div class="col-8">
                                        <div class="card-body col-md-8">
                                            <h5 class="card-title">@comic.uitgave_titel</h5>
                                            <p class="card-text">Uitgever: @comic.uitgever_naam</p>
                                            <p class="card-text">Uitgavejaar: @comic.uitgavejaar</p>
                                            <p class="card-text">Schrijver: @comic.schrijver_naam</p>
                                            <p class="card-text">Tekenaar: @comic.tekenaar_naam</p>
                                            @if (comic.expliciet)
                                            {
                                                <p class="card-text">Expliciet: Ja</p>
                                            }
                                            else
                                            {
                                                <p class="card-text">Expliciet: Nee</p>
                                            }
                
                                            <p class="card-text">Reeks: @comic.reeks_naam</p>
                                            <div class="a">
                                                <p class="card-text"><small class="text-muted">Druk: @comic.druk</small></p>
                                                
                                            </div>
                                            
                                <div class="card-body col-md-12x">
                                    <div class="row">
                                        <form method="post">
                                            <input type="hidden" value="@comic.uitgave_id" asp-for="UitgaveId"/>
                                            <button class="btn btn-dark" type="submit" asp-page-handler="Verify">Verify</button>
                                        </form>
                                        <form asp-page-handler="Delete" method="post" onclick="return confirm('Are you sure you want to delete this?')">
                                            <input type="hidden" value="@comic.uitgave_id" asp-for="UitgaveId"/>
                                            <button type="submit" class="btn btn-dark">Delete Comic</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        }
    }
</div>
